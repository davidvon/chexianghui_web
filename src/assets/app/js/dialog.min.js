(function(h){
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/
if(typeof document!=="undefined"&&!("classList" in document.createElement("a"))){(function(s){if(!("HTMLElement" in s)&&!("Element" in s)){return}var B="classList",w="prototype",p=(s.HTMLElement||s.Element)[w],A=Object,r=String[w].trim||function(){return this.replace(/^\s+|\s+$/g,"")},z=Array[w].indexOf||function(k){var l=0,m=this.length;for(;l<m;l++){if(l in this&&this[l]===k){return l}}return -1},o=function(l,k){this.name=l;this.code=DOMException[l];this.message=k},v=function(k,l){if(l===""){throw new o("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(l)){throw new o("INVALID_CHARACTER_ERR","String contains an invalid character")}return z.call(k,l)},y=function(k){var l=r.call(k.className),m=l?l.split(/\s+/):[],n=0,C=m.length;for(;n<C;n++){this.push(m[n])}this._updateClassName=function(){k.className=this.toString()}},x=y[w]=[],t=function(){return new y(this)};o[w]=Error[w];x.item=function(k){return this[k]||null};x.contains=function(k){k+="";return v(this,k)!==-1};x.add=function(){var k=arguments,l=0,n=k.length,m,C=false;do{m=k[l]+"";if(v(this,m)===-1){this.push(m);C=true}}while(++l<n);if(C){this._updateClassName()}};x.remove=function(){var k=arguments,l=0,C=k.length,m,D=false;do{m=k[l]+"";var n=v(this,m);if(n!==-1){this.splice(n,1);D=true}}while(++l<C);if(D){this._updateClassName()}};x.toggle=function(m,l){m+="";var n=this.contains(m),k=n?l!==true&&"remove":l!==false&&"add";if(k){this[k](m)}return !n};x.toString=function(){return this.join(" ")};if(A.defineProperty){var q={get:t,enumerable:true,configurable:true};try{A.defineProperty(p,B,q)}catch(u){if(u.number===-2146823252){q.enumerable=false;A.defineProperty(p,B,q)}}}else{if(A[w].__defineGetter__){p.__defineGetter__(B,t)}}}(self))}function c(l,m,o){var n=["webkit","moz","MS","o",""];for(var k=0;k<n.length;k++){if(!n[k]){m=m.toLowerCase()}l.addEventListener(n[k]+m,o,false)}}function b(l,m,o){var n=["webkit","moz","MS","o",""];for(var k=0;k<n.length;k++){if(!n[k]){m=m.toLowerCase()}l.removeEventListener(n[k]+m,o,false)}}var j={createEl:function(k){return document.createElement(k)},createText:function(k){return document.createTextNode(k)}};var a=0;var i={init:function(k){this.id=a++;this.config=k;this.build();this.show();return this},show:function(){var k=this.createOverlay();document.getElementsByTagName("body")[0].appendChild(k);k.appendChild(this.dialogue);k.classList.add("fadeIn")},clear:function(){function m(){b(l,"AnimationEnd",k);l.parentNode.removeChild(l);if(this.config.onHide){this.config.onHide()}}var k=m.bind(this);var l=document.getElementsByClassName("dialog-overlay-"+(this.id))[0];c(l,"AnimationEnd",k);l.classList.remove("fadeIn");l.classList.add("fadeOut")},buildWrapper:function(){var m=j.createEl("div");m.classList.add("dialog-dialogue");var k=j.createEl("div");k.classList.add("dialog-content");var l=j.createEl("div");l.classList.add("dialog-footer");m.appendChild(k);m.appendChild(l);return m},createOverlay:function(){var k=j.createEl("div");k.classList.add("dialog-overlay");k.classList.add("dialog-overlay-"+(this.id));return k},destroy:function(){this.clear(function(){}.bind(this));this.removeEventListeners()}};var e={build:{value:function(){var k=this.buildWrapper();k.classList.add("dialog-alert");var m=j.createEl("p").appendChild(j.createText(this.config.message));var l=j.createEl("button");l.textContent="确定";l.classList.add("dialog-confirm");k.querySelector(".dialog-content").appendChild(m);k.querySelector(".dialog-footer").appendChild(l);this.dialogue=k;this.addEventListeners()}},addEventListeners:{value:function(){this.onConfirmHandler=this.onConfirm.bind(this);this.dialogue.querySelector(".dialog-confirm").addEventListener("click",this.onConfirmHandler)}},removeEventListeners:{value:function(){this.dialogue.querySelector(".dialog-confirm").removeEventListener("click",this.onConfirmHandler)}},onConfirm:{value:function(){this.config.onDecision();this.destroy()}}};var d={build:{value:function(){var k=this.buildWrapper();k.classList.add("dialog-confirmation");var n=j.createEl("p").appendChild(j.createText(this.config.message));var l=j.createEl("button");l.textContent="确定";l.classList.add("dialog-confirm");var m=j.createEl("button");m.textContent="取消";m.classList.add("dialog-cancel");k.querySelector(".dialog-content").appendChild(n);k.querySelector(".dialog-footer").appendChild(l);k.querySelector(".dialog-footer").appendChild(m);this.dialogue=k;this.addEventListeners()}},addEventListeners:{value:function(){this.onConfirmHandler=this.onConfirm.bind(this);this.onCancelHandler=this.onCancel.bind(this);this.dialogue.querySelector(".dialog-confirm").addEventListener("click",this.onConfirmHandler);this.dialogue.querySelector(".dialog-cancel").addEventListener("click",this.onCancelHandler)}},removeEventListeners:{value:function(){this.dialogue.querySelector(".dialog-confirm").removeEventListener("click",this.onConfirmHandler);
this.dialogue.querySelector(".dialog-cancel").removeEventListener("click",this.onCancelHandler)}},onConfirm:{value:function(){this.config.onDecision(true);this.destroy()}},onCancel:{value:function(){this.config.onDecision(false);this.destroy()}}};var f={build:{value:function(){var l=this.buildWrapper();l.classList.add("dialog-prompt");var o=j.createEl("p").appendChild(j.createText(this.config.message));var k=j.createEl("input");var m=j.createEl("button");m.textContent="确定";m.classList.add("dialog-confirm");var n=j.createEl("button");n.textContent="取消";n.classList.add("dialog-cancel");l.querySelector(".dialog-content").appendChild(o);l.querySelector(".dialog-content").appendChild(k);l.querySelector(".dialog-footer").appendChild(m);l.querySelector(".dialog-footer").appendChild(n);this.dialogue=l;this.addEventListeners()}},addEventListeners:{value:function(){this.onConfirmHandler=this.onConfirm.bind(this);this.onCancelHandler=this.onCancel.bind(this);this.dialogue.querySelector(".dialog-confirm").addEventListener("click",this.onConfirmHandler);this.dialogue.querySelector(".dialog-cancel").addEventListener("click",this.onCancelHandler)}},removeEventListeners:{value:function(){this.dialogue.querySelector(".dialog-confirm").removeEventListener("click",this.onConfirmHandler);this.dialogue.querySelector(".dialog-cancel").removeEventListener("click",this.onCancelHandler)}},onConfirm:{value:function(){var k=this.dialogue.querySelector("input").value.trim();this.config.onDecision(k);this.destroy()}},onCancel:{value:function(){this.config.onDecision(false);this.destroy()}}};var g=(function(){function m(n){var o=Object.create(i,e);return o.init(n)}function k(o){var n=Object.create(i,d);return n.init(o)}function l(o){var n=Object.create(i,f);return n.init(o)}return{alert:function(n){return m(n)},confirm:function(n){return k(n)},prompt:function(n){return l(n)}}})();h.dialog=g})(window);function confirm_dialog(c,a,b){dialog.confirm({message:c,onDecision:function(d){if(d==false){if(b){b()}}else{if(a){a()}}}})}function alert_dialog(b,a){dialog.alert({message:b,onDecision:function(c){if(c==false){if(fail){fail()}}else{if(a){a()}}}})};